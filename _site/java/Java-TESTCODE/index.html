<p><br /></p>

<h2 id="테스트-코드란">테스트 코드란</h2>

<hr />

<p>프로그램 작성 시 문제가 없는지 확인하기 위해 사용</p>

<p><br />
<br /></p>

<h2 id="테스트-코드를-작성하는-이유">테스트 코드를 작성하는 이유</h2>

<hr />

<ol>
  <li>빠른 피드백</li>
  <li>자동검증이 가능</li>
  <li>개발자가 만든 기능을 안전하게 보호해 준다.</li>
</ol>

<p><br />
<br /></p>

<h2 id="테스트-코드-작성-방법">테스트 코드 작성 방법</h2>

<hr />

<p>→ 메서드를 작성하고 그 위에 @Test 를 작성하면 된다.</p>

<p>→ 테스트코드는 직관적으로 보기 위해 메소드를 한글로 작성하기도 한다</p>

<p>→ 테스트코드는 빌드 시 포함되지 않는다. (따라서, 한글로 작성해도 된다)</p>

<p><br /></p>

<p>테스트코드 작성 시 아래 패턴을 기반으로 하면 좋다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">...</span>
	
		<span class="nd">@Test</span>
    <span class="kt">void</span> <span class="n">회원가입</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// given</span>

        <span class="c1">// when</span>

        <span class="c1">// then</span>
    <span class="o">}</span>

<span class="o">...</span>
</code></pre></div></div>

<p><br />
<br /></p>

<h2 id="테스트-주도-개발-tdd">테스트 주도 개발 (TDD)</h2>

<hr />

<p>기능 구현 후 테스트 케이스 작성하는 것이 아닌 테스트 케이스를 먼저 작성하고 기능 구현하는 것을 테스트 주도 개발 (TDD) 이라고 한다.</p>

<p><br />
<br /></p>

<h2 id="테스트-코드-꼭-해야할까-에-대한-의문"><code class="language-plaintext highlighter-rouge">테스트 코드 꼭 해야할까</code> 에 대한 의문?</h2>

<hr />

<p>간단한 프로젝트의 경우 필요가 없을 수도 있고 출력문을 통해 진행 할 수도 있겠다.</p>

<p>하지만, 몇만 라인 넘어가는 프로젝트 같은 경우 테스트케이스 없이 개발시 문제가 많이 생김</p>

<p>→ 따라서, 테스트 코드 관련해서는 깊이 있는 공부가 필요함</p>

<p><br />
<br /></p>

<h2 id="junit-과-assertj">junit 과 assertj</h2>

<hr />

<p>java 에서 테스트 코드 작성 시 JUnit 과 assertj 를 주로 사용</p>

<ul>
  <li>
    <p><strong>JUnit</strong></p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">jupiter</span><span class="o">.</span><span class="na">api</span><span class="o">.</span><span class="na">Assertions</span><span class="o">;</span>

  <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="n">member</span><span class="o">);</span>
  <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertNotEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="n">member</span><span class="o">);</span>

  <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
  <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertFalse</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>

  <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertNull</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
  <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertNotNull</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>

  <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertSame</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
  <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertNotSame</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>

  <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertArrayEquals</span><span class="o">();</span>

  <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertThrows</span><span class="o">();</span>
</code></pre></div>    </div>
    <p><br /></p>
  </li>
  <li>
    <p><strong>assertj</strong></p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">assertj</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">api</span><span class="o">.</span><span class="na">Assertions</span><span class="o">;</span>

  <span class="c1">// 명확한 값 비교를 위해 사용</span>
  <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertThat</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<p><br /></p>

<ul>
  <li>
    <p>junit Assertions 와 assertj Assertions 의 사용법 예시</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">jupiter</span><span class="o">.</span><span class="na">api</span><span class="o">.</span><span class="na">Assertions</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">;</span>
  <span class="n">assertEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="n">member</span><span class="o">);</span>

  <span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">assertj</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">api</span><span class="o">.</span><span class="na">Assertions</span><span class="o">.</span><span class="na">assertThat</span><span class="o">;</span>
  <span class="n">assertThat</span><span class="o">(</span><span class="n">result</span><span class="o">).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<p><br />
<br /></p>

<h2 id="beforeeach--aftereach">@BeforeEach / @AfterEach</h2>

<hr />

<h3 id="beforeeach">@BeforeEach</h3>

<p>→ 공통적인 Param 및 설정을 할때 호출되면 좋을 부분이다.</p>

<p>→ 같은 리소스를 사용하도록 설정하고 싶을 때</p>

<p><br /></p>

<h3 id="aftereach">@AfterEach</h3>

<p>→ 테스트 코드 실행이 끝나고 실행 된다.</p>

<p>→ 테스트 코드가 여러 개일 경우 각각의 코드 실행이 끝날 때마다 실행</p>

<p><br /></p>

<p><strong>사용이유!</strong></p>

<p>여러개의 테스트 코드를 실행 시 테스트 코드 실행 순서는 랜덤이다.</p>

<p>이때 같은 메모리를 사용하게 되면 문제가 발생 할 수 있다.</p>

<p>즉, 독립적인 테스트 케이스  실행이 필요하다</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// MemberRepository</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">clearStore</span><span class="o">(){</span>
    <span class="n">store</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>
<span class="o">}</span>

<span class="c1">// MemberRepositoryTest</span>
<span class="nd">@AfterEach</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">afterEach</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">repository</span><span class="o">.</span><span class="na">clearStore</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<p><br />
<br /></p>
