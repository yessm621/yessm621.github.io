---
title:  "객체지향개념(상속)"
last_modified_at: 2022-01-07T21:48:00
categories: 
  - Java
tags:
  - Java
toc: true
toc_label: "Getting Started"
---

# 1. 상속

## 1.1 상속의 정의와 장점

- 상속이란, 기존의 클래스로 새로운 클래스를 작성하는 것
    
    → 적은 양의 코드로 새로운 클래스를 작성할 수 있고 코드를 공통적으로 관리할 수 있기 때문에 코드의 추가 및 변경이 매우 용이(코드의 재사용성, 유지보수 용이)
    
    → class Child `extends Parent` { }
    
- 두 클래스를 부모와 자식으로 관계를 맺어주는 것
    
    ```
    **조상 클래스**  부모클래스, 상위클래스, 기반클래스
    **자손 클래스**  자식클래스, 하위클래스, 파생된 클래스
    ```
    
    ```java
    class 자식클래스 extends 부모클래스 {
    	// ...
    }
    
    class Parent { }
    //     자식           부모
    class Child extends Parent {
    	// ...
    }
    ```
    
- 자손은 조상(부모의 부모)의 모든 멤버를 상속받는다.(생성자, 초기화블럭 제외)
- 자손의 멤버 개수는 조상보다 적을 수 없다.(같거나 많다)
    
    ```java
    class Parent {
    	int age;
    }
    
    class Child extends Parent {}
    ```
    
- 자손의 변경은 조상에 영향을 미치지 않는다
    
    ```java
    class Parent {
    	int age;
    }
    
    class Child extends Parent {
    	void play() {
    		System.out.println("놀자");
    	}
    }
    // 자식멤버 1개, 상속받은 멤버 1개
    ```
    
<br>

예제

```java
class Point {
	int x;
	int y;
}
```

Point 클래스와 상관없음

```java
class Point3D {
	int x;
	int y;
	int z;
}
```

Point 클래스를 상속 받음, Point 클래스에 변경이 있으면 영향을 받는다.

```java
class Point3D extends Point {
	int z;
}
```

<br>

```java
class Tv {
	boolean power; // 전원상태(on/off)
	int channel;	// 채널

	void power()       {   power = !power; }
	void channelUp()   {   ++channel;      }
	void channelDown() {   --channel;      }
}

class SmartTv extends Tv {  // CaptionTv는 Tv에 캡션(자막)을 보여주는 기능을 추가
	boolean caption;     // 캡션상태(on/off)
	void displayCaption(String text) {
		if (caption) {   // 캡션 상태가 on(true)일 때만 text를 보여 준다.
			System.out.println(text);
		}
	}
}

class Ex7_1 {
	public static void main(String args[]) {
		SmartTv stv = new SmartTv();
		stv.channel = 10;			// 조상 클래스로부터 상속받은 멤버
		stv.channelUp();			// 조상 클래스로부터 상속받은 멤버
		System.out.println(stv.channel);
		stv.displayCaption("Hello, World");
		stv.caption = true;	// 캡션(자막) 기능을 켠다.	       
		stv.displayCaption("Hello, World");
	}
}
```

자식 멤버 2개 + 부모 멤버 5개 → 7개

<br>

## 1.2 클래스간의 관계 - 포함관계

클래스의 관계

1. 상속
2. 포함

<br>

**포함이란?**

- 클래스의 멤버로 참조변수를 선언하는 것
- 작은 단위의 클래스를 만들고, 이 들을 조합해서 클래스를 만든다.

예제1. 포함 없는 것

```java
class Circle {
	int x;
	int y;
	int r;
}
```

예제2. Circle 이 Point 를 포함

```java
class Circle {
	Point p = new Point();
	int r;
}

class Point {
	int x;
	int y;
}
```

예제3.

```java
class Car {
	// 아래 두 문장 모두 포함 예시
	// 이런식으로 작성하면 복잡도가 줄어든다
	Engine e = new Engine(); // 엔진
	Door[] d = new Door[4]; // 문, 문의 개수를 넷으로 가정하고 배열로 처리했다.
}
```

포함관계로 작성하면 클래스를 작성하는 것도 쉽고 코드도 간결해서 이해하기 쉽고 코드 관리도 수월하다.

<br>

## 1.3 클래스 간의 관계 결정하기

클래스를 작성하는데 있어서 상속관계를 맺어 줄까? 포함관계를 맺어줄까?

→ 포함이 90%, 상속은 꼭 필요할때만!

```
상속관계 '~은 ~이다(is-a)'
포함관계 '~은 ~을 가지고 있다(has-a)'
```

아래와 같이 말을 만들어보면 편하다

1. 원(Circle)은 점(Point)이다
2. 원(Circle)은 점(Point)을 가지고 있다

2번이 자연스럽기 때문에 포함관계로 작성하면 된다.

<br>

```java
class Circle { // 포함
	Point p = new Point(); // 참조변수의 초기화
	/* Circle() {
		p = new Point();
	} */ // 생성자를 이용한 참조변수의 초기화
	int r;
}

class Circle extends Point { // 상속
	int r;
}

class Point {
	int x;
	int y;
}
```

<br>

## 1.4 단일 상속

- Java는 단일상속만을 허용한다.(C++은 다중상속 허용)

```java
class TvDVD extends Tv, DVD { // 에러발생! 조상은 하나만 허용한다
	// ...
}
```

서로 다른 클래스로부터 상속받은 멤버간의 이름이 같은 경우 구별할 수 있는 방법이 없다는 단점이 있다.

<br>

비중이 높은 클래스 하나만 상속관계로, 나머지는 포함관계로 한다.

```java
class Tv {
	boolean power; 	// 전원상태(on/off)
	int channel;		// 채널

	void power()       { 	power = !power; }
	void channelUp()   { 	++channel; }
	void channelDown() {	--channel; }
}

class VCR {
	boolean power; 	// 전원상태(on/off)
   int counter = 0;
	void power() { 	power = !power; }
	void play()  { /* 내용생략*/ }
	void stop()  { /* 내용생략*/ }
	void rew()   { /* 내용생략*/ }
	void ff()    { /* 내용생략*/ }
}

class TVCR extends Tv {
	VCR vcr = new VCR();
	int counter = vcr.counter;

	// 객체 사용 시작
	void play() {
		vcr.play();
	}

	void stop() {
		vcr.stop();
   }

	void rew() {
		vcr.rew();
   }

	void ff() {
		vcr.ff();	
   }
	// 객체 사용 끝
}
```

<br>

## 1.5 Object 클래스 - 모든 클래스의 조상

- 부모가 없는 클래스는 자동적으로 Object 클래스를 상속받게 된다.(컴파일러가 자동 추가 해준다)
- 모든 클래스는 Object 클래스에 정의된 11개의 메서드를 상속받는다.
    - toString(), equals(Object obj), hashCode()...
    

```java
class Tv {
	// ...
}

// 위의 코드와 아래의 코드는 같다.
// 부모 클래스가 없기 때문에 Object클래스를 상속 받음
class Tv extends Object {
	// ...
}
```

<br>

```java
class Circle extends Object { // 포함
	MyPoint p = new MyPoint();
	int r;
}

public class InheritanceTest {
	public static void main(String[] args) {
		// 위아래 두문장이 똑같은 출력이다.
		System.out.println(c.toString()); // Circle@15db9742
		System.out.println(c); // Circle@15db9742
	}
}
```